package com.jlxu.demo.concurrency.communication;

import lombok.extern.slf4j.Slf4j;

import java.util.concurrent.locks.Condition;
import java.util.concurrent.locks.Lock;
import java.util.concurrent.locks.ReentrantLock;

/**
 * 功能： condition   Condition 实现了一种分组机制，将所有对临界资源进行访问的线程进行分组，以便实现线程间更精细化的协作，例如通知部分线程。
 * 创建时间：2020年03月14日
 * 文件名称：Test
 * 版本：1.0.0
 * 最后修改时间：2020/3/14 9:32
 *
 * @auther jlxu
 */
@Slf4j
public class Test6 {

    public static void main(String[] args) {
        MyService6 service = new MyService6();
        ThreadA6[] threadA6s = new ThreadA6[10];
        ThreadB6[] threadB6s = new ThreadB6[10];
        //1)
//        for (int i = 0; i < 10; i++) {
//            threadA6s[i] = new ThreadA6(service, "ThreadA6-" + i);
//            threadB6s[i] = new ThreadB6(service, "ThreadB6-" + i);
//            threadA6s[i].start();
//            threadB6s[i].start();
//        }
        //2)
        for (int i = 0; i < 10; i++) {
            threadA6s[i] = new ThreadA6(service, "ThreadA6-" + i);
            threadA6s[i].start();
        }
        for (int i = 0; i < 10; i++) {
            threadB6s[i] = new ThreadB6(service, "ThreadB6-" + i);
            threadB6s[i].start();
        }
        //1)
        //13:33:41.056 [ThreadA6-0] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产中]  线程ThreadA6-0 生产★
        //13:33:42.066 [ThreadA6-0] INFO com.jlxu.demo.concurrency.communication.MyService6 - 线程ThreadA6-0 生产完毕...
        //13:33:42.067 [ThreadA6-0] INFO com.jlxu.demo.concurrency.communication.MyService6 - [唤醒所有消费线程]  线程ThreadA6-0...
        //13:33:42.067 [ThreadB6-0] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费中]  线程ThreadB6-0 消费★
        //13:33:43.083 [ThreadB6-0] INFO com.jlxu.demo.concurrency.communication.MyService6 - 线程ThreadB6-0 消费完毕...
        //13:33:43.083 [ThreadB6-0] INFO com.jlxu.demo.concurrency.communication.MyService6 - [唤醒所有生成线程]  线程ThreadB6-0...
        //13:33:43.083 [ThreadA6-1] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产中]  线程ThreadA6-1 生产★
        //13:33:44.113 [ThreadA6-1] INFO com.jlxu.demo.concurrency.communication.MyService6 - 线程ThreadA6-1 生产完毕...
        //13:33:44.114 [ThreadA6-1] INFO com.jlxu.demo.concurrency.communication.MyService6 - [唤醒所有消费线程]  线程ThreadA6-1...
        //13:33:44.114 [ThreadB6-1] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费中]  线程ThreadB6-1 消费★
        //13:33:45.164 [ThreadB6-1] INFO com.jlxu.demo.concurrency.communication.MyService6 - 线程ThreadB6-1 消费完毕...
        //13:33:45.164 [ThreadB6-1] INFO com.jlxu.demo.concurrency.communication.MyService6 - [唤醒所有生成线程]  线程ThreadB6-1...
        //13:33:45.164 [ThreadA6-2] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产中]  线程ThreadA6-2 生产★
        //13:33:46.191 [ThreadA6-2] INFO com.jlxu.demo.concurrency.communication.MyService6 - 线程ThreadA6-2 生产完毕...
        //13:33:46.191 [ThreadA6-2] INFO com.jlxu.demo.concurrency.communication.MyService6 - [唤醒所有消费线程]  线程ThreadA6-2...
        //13:33:46.191 [ThreadB6-2] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费中]  线程ThreadB6-2 消费★
        //13:33:47.249 [ThreadB6-2] INFO com.jlxu.demo.concurrency.communication.MyService6 - 线程ThreadB6-2 消费完毕...
        //13:33:47.251 [ThreadB6-2] INFO com.jlxu.demo.concurrency.communication.MyService6 - [唤醒所有生成线程]  线程ThreadB6-2...
        //13:33:47.251 [ThreadA6-3] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产中]  线程ThreadA6-3 生产★
        //13:33:48.270 [ThreadA6-3] INFO com.jlxu.demo.concurrency.communication.MyService6 - 线程ThreadA6-3 生产完毕...
        //13:33:48.270 [ThreadA6-3] INFO com.jlxu.demo.concurrency.communication.MyService6 - [唤醒所有消费线程]  线程ThreadA6-3...
        //13:33:48.270 [ThreadB6-3] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费中]  线程ThreadB6-3 消费★
        //13:33:49.313 [ThreadB6-3] INFO com.jlxu.demo.concurrency.communication.MyService6 - 线程ThreadB6-3 消费完毕...
        //13:33:49.313 [ThreadB6-3] INFO com.jlxu.demo.concurrency.communication.MyService6 - [唤醒所有生成线程]  线程ThreadB6-3...
        //13:33:49.313 [ThreadA6-4] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产中]  线程ThreadA6-4 生产★
        //13:33:50.323 [ThreadA6-4] INFO com.jlxu.demo.concurrency.communication.MyService6 - 线程ThreadA6-4 生产完毕...
        //13:33:50.324 [ThreadA6-4] INFO com.jlxu.demo.concurrency.communication.MyService6 - [唤醒所有消费线程]  线程ThreadA6-4...
        //13:33:50.324 [ThreadB6-4] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费中]  线程ThreadB6-4 消费★
        //13:33:51.331 [ThreadB6-4] INFO com.jlxu.demo.concurrency.communication.MyService6 - 线程ThreadB6-4 消费完毕...
        //13:33:51.331 [ThreadB6-4] INFO com.jlxu.demo.concurrency.communication.MyService6 - [唤醒所有生成线程]  线程ThreadB6-4...
        //13:33:51.331 [ThreadA6-5] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产中]  线程ThreadA6-5 生产★
        //13:33:52.346 [ThreadA6-5] INFO com.jlxu.demo.concurrency.communication.MyService6 - 线程ThreadA6-5 生产完毕...
        //13:33:52.347 [ThreadA6-5] INFO com.jlxu.demo.concurrency.communication.MyService6 - [唤醒所有消费线程]  线程ThreadA6-5...
        //13:33:52.348 [ThreadB6-5] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费中]  线程ThreadB6-5 消费★
        //13:33:53.357 [ThreadB6-5] INFO com.jlxu.demo.concurrency.communication.MyService6 - 线程ThreadB6-5 消费完毕...
        //13:33:53.357 [ThreadB6-5] INFO com.jlxu.demo.concurrency.communication.MyService6 - [唤醒所有生成线程]  线程ThreadB6-5...
        //13:33:53.357 [ThreadA6-6] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产中]  线程ThreadA6-6 生产★
        //13:33:54.375 [ThreadA6-6] INFO com.jlxu.demo.concurrency.communication.MyService6 - 线程ThreadA6-6 生产完毕...
        //13:33:54.379 [ThreadA6-6] INFO com.jlxu.demo.concurrency.communication.MyService6 - [唤醒所有消费线程]  线程ThreadA6-6...
        //13:33:54.380 [ThreadB6-6] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费中]  线程ThreadB6-6 消费★
        //13:33:55.384 [ThreadB6-6] INFO com.jlxu.demo.concurrency.communication.MyService6 - 线程ThreadB6-6 消费完毕...
        //13:33:55.384 [ThreadB6-6] INFO com.jlxu.demo.concurrency.communication.MyService6 - [唤醒所有生成线程]  线程ThreadB6-6...
        //13:33:55.384 [ThreadA6-7] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产中]  线程ThreadA6-7 生产★
        //13:33:56.395 [ThreadA6-7] INFO com.jlxu.demo.concurrency.communication.MyService6 - 线程ThreadA6-7 生产完毕...
        //13:33:56.395 [ThreadA6-7] INFO com.jlxu.demo.concurrency.communication.MyService6 - [唤醒所有消费线程]  线程ThreadA6-7...
        //13:33:56.395 [ThreadB6-7] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费中]  线程ThreadB6-7 消费★
        //13:33:57.403 [ThreadB6-7] INFO com.jlxu.demo.concurrency.communication.MyService6 - 线程ThreadB6-7 消费完毕...
        //13:33:57.403 [ThreadB6-7] INFO com.jlxu.demo.concurrency.communication.MyService6 - [唤醒所有生成线程]  线程ThreadB6-7...
        //13:33:57.403 [ThreadA6-8] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产中]  线程ThreadA6-8 生产★
        //13:33:58.410 [ThreadA6-8] INFO com.jlxu.demo.concurrency.communication.MyService6 - 线程ThreadA6-8 生产完毕...
        //13:33:58.411 [ThreadA6-8] INFO com.jlxu.demo.concurrency.communication.MyService6 - [唤醒所有消费线程]  线程ThreadA6-8...
        //13:33:58.411 [ThreadB6-8] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费中]  线程ThreadB6-8 消费★
        //13:33:59.412 [ThreadB6-8] INFO com.jlxu.demo.concurrency.communication.MyService6 - 线程ThreadB6-8 消费完毕...
        //13:33:59.412 [ThreadB6-8] INFO com.jlxu.demo.concurrency.communication.MyService6 - [唤醒所有生成线程]  线程ThreadB6-8...
        //13:33:59.413 [ThreadA6-9] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产中]  线程ThreadA6-9 生产★
        //13:34:00.413 [ThreadA6-9] INFO com.jlxu.demo.concurrency.communication.MyService6 - 线程ThreadA6-9 生产完毕...
        //13:34:00.413 [ThreadA6-9] INFO com.jlxu.demo.concurrency.communication.MyService6 - [唤醒所有消费线程]  线程ThreadA6-9...
        //13:34:00.413 [ThreadB6-9] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费中]  线程ThreadB6-9 消费★
        //13:34:01.413 [ThreadB6-9] INFO com.jlxu.demo.concurrency.communication.MyService6 - 线程ThreadB6-9 消费完毕...
        //13:34:01.413 [ThreadB6-9] INFO com.jlxu.demo.concurrency.communication.MyService6 - [唤醒所有生成线程]  线程ThreadB6-9...

        //2)
        //13:34:56.953 [ThreadA6-0] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产中]  线程ThreadA6-0 生产★
        //13:34:57.975 [ThreadA6-0] INFO com.jlxu.demo.concurrency.communication.MyService6 - 线程ThreadA6-0 生产完毕...
        //13:34:57.975 [ThreadA6-0] INFO com.jlxu.demo.concurrency.communication.MyService6 - [唤醒所有消费线程]  线程ThreadA6-0...
        //13:34:57.975 [ThreadA6-1] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产线程]  线程ThreadA6-1 await...
        //13:34:57.976 [ThreadA6-2] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产线程]  线程ThreadA6-2 await...
        //13:34:57.976 [ThreadA6-3] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产线程]  线程ThreadA6-3 await...
        //13:34:57.976 [ThreadA6-4] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产线程]  线程ThreadA6-4 await...
        //13:34:57.976 [ThreadA6-5] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产线程]  线程ThreadA6-5 await...
        //13:34:57.977 [ThreadA6-6] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产线程]  线程ThreadA6-6 await...
        //13:34:57.977 [ThreadA6-7] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产线程]  线程ThreadA6-7 await...
        //13:34:57.977 [ThreadA6-8] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产线程]  线程ThreadA6-8 await...
        //13:34:57.977 [ThreadA6-9] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产线程]  线程ThreadA6-9 await...
        //13:34:57.977 [ThreadB6-0] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费中]  线程ThreadB6-0 消费★
        //13:34:58.978 [ThreadB6-0] INFO com.jlxu.demo.concurrency.communication.MyService6 - 线程ThreadB6-0 消费完毕...
        //13:34:58.978 [ThreadB6-0] INFO com.jlxu.demo.concurrency.communication.MyService6 - [唤醒所有生成线程]  线程ThreadB6-0...
        //13:34:58.978 [ThreadB6-1] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费线程]  线程ThreadB6-1 await...
        //13:34:58.978 [ThreadB6-2] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费线程]  线程ThreadB6-2 await...
        //13:34:58.978 [ThreadB6-3] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费线程]  线程ThreadB6-3 await...
        //13:34:58.978 [ThreadB6-4] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费线程]  线程ThreadB6-4 await...
        //13:34:58.979 [ThreadB6-5] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费线程]  线程ThreadB6-5 await...
        //13:34:58.979 [ThreadB6-6] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费线程]  线程ThreadB6-6 await...
        //13:34:58.979 [ThreadB6-7] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费线程]  线程ThreadB6-7 await...
        //13:34:58.979 [ThreadB6-8] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费线程]  线程ThreadB6-8 await...
        //13:34:58.979 [ThreadB6-9] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费线程]  线程ThreadB6-9 await...
        //13:34:58.979 [ThreadA6-1] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产中]  线程ThreadA6-1 生产★
        //13:34:59.979 [ThreadA6-1] INFO com.jlxu.demo.concurrency.communication.MyService6 - 线程ThreadA6-1 生产完毕...
        //13:34:59.979 [ThreadA6-1] INFO com.jlxu.demo.concurrency.communication.MyService6 - [唤醒所有消费线程]  线程ThreadA6-1...
        //13:34:59.979 [ThreadA6-2] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产线程]  线程ThreadA6-2 await...
        //13:34:59.979 [ThreadA6-3] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产线程]  线程ThreadA6-3 await...
        //13:34:59.979 [ThreadA6-4] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产线程]  线程ThreadA6-4 await...
        //13:34:59.979 [ThreadA6-5] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产线程]  线程ThreadA6-5 await...
        //13:34:59.979 [ThreadA6-6] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产线程]  线程ThreadA6-6 await...
        //13:34:59.979 [ThreadA6-7] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产线程]  线程ThreadA6-7 await...
        //13:34:59.980 [ThreadA6-8] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产线程]  线程ThreadA6-8 await...
        //13:34:59.980 [ThreadA6-9] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产线程]  线程ThreadA6-9 await...
        //13:34:59.980 [ThreadB6-1] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费中]  线程ThreadB6-1 消费★
        //13:35:00.980 [ThreadB6-1] INFO com.jlxu.demo.concurrency.communication.MyService6 - 线程ThreadB6-1 消费完毕...
        //13:35:00.981 [ThreadB6-1] INFO com.jlxu.demo.concurrency.communication.MyService6 - [唤醒所有生成线程]  线程ThreadB6-1...
        //13:35:00.981 [ThreadB6-2] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费线程]  线程ThreadB6-2 await...
        //13:35:00.981 [ThreadB6-3] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费线程]  线程ThreadB6-3 await...
        //13:35:00.981 [ThreadB6-4] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费线程]  线程ThreadB6-4 await...
        //13:35:00.981 [ThreadB6-5] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费线程]  线程ThreadB6-5 await...
        //13:35:00.981 [ThreadB6-6] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费线程]  线程ThreadB6-6 await...
        //13:35:00.981 [ThreadB6-7] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费线程]  线程ThreadB6-7 await...
        //13:35:00.981 [ThreadB6-8] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费线程]  线程ThreadB6-8 await...
        //13:35:00.981 [ThreadB6-9] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费线程]  线程ThreadB6-9 await...
        //13:35:00.981 [ThreadA6-2] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产中]  线程ThreadA6-2 生产★
        //13:35:01.982 [ThreadA6-2] INFO com.jlxu.demo.concurrency.communication.MyService6 - 线程ThreadA6-2 生产完毕...
        //13:35:01.982 [ThreadA6-2] INFO com.jlxu.demo.concurrency.communication.MyService6 - [唤醒所有消费线程]  线程ThreadA6-2...
        //13:35:01.982 [ThreadA6-3] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产线程]  线程ThreadA6-3 await...
        //13:35:01.982 [ThreadA6-4] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产线程]  线程ThreadA6-4 await...
        //13:35:01.982 [ThreadA6-5] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产线程]  线程ThreadA6-5 await...
        //13:35:01.982 [ThreadA6-6] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产线程]  线程ThreadA6-6 await...
        //13:35:01.983 [ThreadA6-7] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产线程]  线程ThreadA6-7 await...
        //13:35:01.983 [ThreadA6-8] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产线程]  线程ThreadA6-8 await...
        //13:35:01.983 [ThreadA6-9] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产线程]  线程ThreadA6-9 await...
        //13:35:01.983 [ThreadB6-2] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费中]  线程ThreadB6-2 消费★
        //13:35:02.983 [ThreadB6-2] INFO com.jlxu.demo.concurrency.communication.MyService6 - 线程ThreadB6-2 消费完毕...
        //13:35:02.983 [ThreadB6-2] INFO com.jlxu.demo.concurrency.communication.MyService6 - [唤醒所有生成线程]  线程ThreadB6-2...
        //13:35:02.983 [ThreadB6-3] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费线程]  线程ThreadB6-3 await...
        //13:35:02.983 [ThreadB6-4] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费线程]  线程ThreadB6-4 await...
        //13:35:02.983 [ThreadB6-5] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费线程]  线程ThreadB6-5 await...
        //13:35:02.983 [ThreadB6-6] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费线程]  线程ThreadB6-6 await...
        //13:35:02.983 [ThreadB6-7] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费线程]  线程ThreadB6-7 await...
        //13:35:02.983 [ThreadB6-8] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费线程]  线程ThreadB6-8 await...
        //13:35:02.984 [ThreadB6-9] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费线程]  线程ThreadB6-9 await...
        //13:35:02.984 [ThreadA6-3] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产中]  线程ThreadA6-3 生产★
        //13:35:03.984 [ThreadA6-3] INFO com.jlxu.demo.concurrency.communication.MyService6 - 线程ThreadA6-3 生产完毕...
        //13:35:03.984 [ThreadA6-3] INFO com.jlxu.demo.concurrency.communication.MyService6 - [唤醒所有消费线程]  线程ThreadA6-3...
        //13:35:03.984 [ThreadA6-4] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产线程]  线程ThreadA6-4 await...
        //13:35:03.984 [ThreadA6-5] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产线程]  线程ThreadA6-5 await...
        //13:35:03.984 [ThreadA6-6] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产线程]  线程ThreadA6-6 await...
        //13:35:03.984 [ThreadA6-7] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产线程]  线程ThreadA6-7 await...
        //13:35:03.984 [ThreadA6-8] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产线程]  线程ThreadA6-8 await...
        //13:35:03.986 [ThreadA6-9] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产线程]  线程ThreadA6-9 await...
        //13:35:03.986 [ThreadB6-3] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费中]  线程ThreadB6-3 消费★
        //13:35:04.986 [ThreadB6-3] INFO com.jlxu.demo.concurrency.communication.MyService6 - 线程ThreadB6-3 消费完毕...
        //13:35:04.986 [ThreadB6-3] INFO com.jlxu.demo.concurrency.communication.MyService6 - [唤醒所有生成线程]  线程ThreadB6-3...
        //13:35:04.986 [ThreadB6-4] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费线程]  线程ThreadB6-4 await...
        //13:35:04.986 [ThreadB6-5] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费线程]  线程ThreadB6-5 await...
        //13:35:04.986 [ThreadB6-6] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费线程]  线程ThreadB6-6 await...
        //13:35:04.986 [ThreadB6-7] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费线程]  线程ThreadB6-7 await...
        //13:35:04.986 [ThreadB6-8] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费线程]  线程ThreadB6-8 await...
        //13:35:04.986 [ThreadB6-9] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费线程]  线程ThreadB6-9 await...
        //13:35:04.987 [ThreadA6-4] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产中]  线程ThreadA6-4 生产★
        //13:35:05.988 [ThreadA6-4] INFO com.jlxu.demo.concurrency.communication.MyService6 - 线程ThreadA6-4 生产完毕...
        //13:35:05.988 [ThreadA6-4] INFO com.jlxu.demo.concurrency.communication.MyService6 - [唤醒所有消费线程]  线程ThreadA6-4...
        //13:35:05.988 [ThreadA6-5] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产线程]  线程ThreadA6-5 await...
        //13:35:05.988 [ThreadA6-6] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产线程]  线程ThreadA6-6 await...
        //13:35:05.988 [ThreadA6-7] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产线程]  线程ThreadA6-7 await...
        //13:35:05.989 [ThreadA6-8] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产线程]  线程ThreadA6-8 await...
        //13:35:05.989 [ThreadA6-9] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产线程]  线程ThreadA6-9 await...
        //13:35:05.989 [ThreadB6-4] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费中]  线程ThreadB6-4 消费★
        //13:35:06.990 [ThreadB6-4] INFO com.jlxu.demo.concurrency.communication.MyService6 - 线程ThreadB6-4 消费完毕...
        //13:35:06.990 [ThreadB6-4] INFO com.jlxu.demo.concurrency.communication.MyService6 - [唤醒所有生成线程]  线程ThreadB6-4...
        //13:35:06.993 [ThreadB6-5] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费线程]  线程ThreadB6-5 await...
        //13:35:06.993 [ThreadB6-6] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费线程]  线程ThreadB6-6 await...
        //13:35:06.993 [ThreadB6-7] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费线程]  线程ThreadB6-7 await...
        //13:35:06.993 [ThreadB6-8] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费线程]  线程ThreadB6-8 await...
        //13:35:06.993 [ThreadB6-9] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费线程]  线程ThreadB6-9 await...
        //13:35:06.993 [ThreadA6-5] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产中]  线程ThreadA6-5 生产★
        //13:35:07.993 [ThreadA6-5] INFO com.jlxu.demo.concurrency.communication.MyService6 - 线程ThreadA6-5 生产完毕...
        //13:35:07.993 [ThreadA6-5] INFO com.jlxu.demo.concurrency.communication.MyService6 - [唤醒所有消费线程]  线程ThreadA6-5...
        //13:35:07.993 [ThreadA6-6] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产线程]  线程ThreadA6-6 await...
        //13:35:07.993 [ThreadA6-7] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产线程]  线程ThreadA6-7 await...
        //13:35:07.993 [ThreadA6-8] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产线程]  线程ThreadA6-8 await...
        //13:35:07.993 [ThreadA6-9] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产线程]  线程ThreadA6-9 await...
        //13:35:07.993 [ThreadB6-5] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费中]  线程ThreadB6-5 消费★
        //13:35:08.994 [ThreadB6-5] INFO com.jlxu.demo.concurrency.communication.MyService6 - 线程ThreadB6-5 消费完毕...
        //13:35:08.994 [ThreadB6-5] INFO com.jlxu.demo.concurrency.communication.MyService6 - [唤醒所有生成线程]  线程ThreadB6-5...
        //13:35:08.994 [ThreadB6-6] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费线程]  线程ThreadB6-6 await...
        //13:35:08.994 [ThreadB6-7] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费线程]  线程ThreadB6-7 await...
        //13:35:08.994 [ThreadB6-8] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费线程]  线程ThreadB6-8 await...
        //13:35:08.995 [ThreadB6-9] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费线程]  线程ThreadB6-9 await...
        //13:35:08.995 [ThreadA6-6] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产中]  线程ThreadA6-6 生产★
        //13:35:09.995 [ThreadA6-6] INFO com.jlxu.demo.concurrency.communication.MyService6 - 线程ThreadA6-6 生产完毕...
        //13:35:09.995 [ThreadA6-6] INFO com.jlxu.demo.concurrency.communication.MyService6 - [唤醒所有消费线程]  线程ThreadA6-6...
        //13:35:09.995 [ThreadA6-7] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产线程]  线程ThreadA6-7 await...
        //13:35:09.995 [ThreadA6-8] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产线程]  线程ThreadA6-8 await...
        //13:35:09.996 [ThreadA6-9] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产线程]  线程ThreadA6-9 await...
        //13:35:09.996 [ThreadB6-6] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费中]  线程ThreadB6-6 消费★
        //13:35:10.997 [ThreadB6-6] INFO com.jlxu.demo.concurrency.communication.MyService6 - 线程ThreadB6-6 消费完毕...
        //13:35:10.997 [ThreadB6-6] INFO com.jlxu.demo.concurrency.communication.MyService6 - [唤醒所有生成线程]  线程ThreadB6-6...
        //13:35:10.997 [ThreadB6-7] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费线程]  线程ThreadB6-7 await...
        //13:35:10.997 [ThreadB6-8] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费线程]  线程ThreadB6-8 await...
        //13:35:10.997 [ThreadB6-9] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费线程]  线程ThreadB6-9 await...
        //13:35:10.997 [ThreadA6-7] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产中]  线程ThreadA6-7 生产★
        //13:35:11.998 [ThreadA6-7] INFO com.jlxu.demo.concurrency.communication.MyService6 - 线程ThreadA6-7 生产完毕...
        //13:35:11.998 [ThreadA6-7] INFO com.jlxu.demo.concurrency.communication.MyService6 - [唤醒所有消费线程]  线程ThreadA6-7...
        //13:35:11.998 [ThreadA6-8] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产线程]  线程ThreadA6-8 await...
        //13:35:11.998 [ThreadA6-9] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产线程]  线程ThreadA6-9 await...
        //13:35:11.998 [ThreadB6-7] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费中]  线程ThreadB6-7 消费★
        //13:35:12.999 [ThreadB6-7] INFO com.jlxu.demo.concurrency.communication.MyService6 - 线程ThreadB6-7 消费完毕...
        //13:35:12.999 [ThreadB6-7] INFO com.jlxu.demo.concurrency.communication.MyService6 - [唤醒所有生成线程]  线程ThreadB6-7...
        //13:35:12.999 [ThreadB6-8] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费线程]  线程ThreadB6-8 await...
        //13:35:13.000 [ThreadB6-9] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费线程]  线程ThreadB6-9 await...
        //13:35:13.000 [ThreadA6-8] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产中]  线程ThreadA6-8 生产★
        //13:35:14.000 [ThreadA6-8] INFO com.jlxu.demo.concurrency.communication.MyService6 - 线程ThreadA6-8 生产完毕...
        //13:35:14.000 [ThreadA6-8] INFO com.jlxu.demo.concurrency.communication.MyService6 - [唤醒所有消费线程]  线程ThreadA6-8...
        //13:35:14.000 [ThreadA6-9] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产线程]  线程ThreadA6-9 await...
        //13:35:14.000 [ThreadB6-8] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费中]  线程ThreadB6-8 消费★
        //13:35:15.001 [ThreadB6-8] INFO com.jlxu.demo.concurrency.communication.MyService6 - 线程ThreadB6-8 消费完毕...
        //13:35:15.001 [ThreadB6-8] INFO com.jlxu.demo.concurrency.communication.MyService6 - [唤醒所有生成线程]  线程ThreadB6-8...
        //13:35:15.001 [ThreadB6-9] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费线程]  线程ThreadB6-9 await...
        //13:35:15.001 [ThreadA6-9] INFO com.jlxu.demo.concurrency.communication.MyService6 - [生产中]  线程ThreadA6-9 生产★
        //13:35:16.002 [ThreadA6-9] INFO com.jlxu.demo.concurrency.communication.MyService6 - 线程ThreadA6-9 生产完毕...
        //13:35:16.002 [ThreadA6-9] INFO com.jlxu.demo.concurrency.communication.MyService6 - [唤醒所有消费线程]  线程ThreadA6-9...
        //13:35:16.002 [ThreadB6-9] INFO com.jlxu.demo.concurrency.communication.MyService6 - [消费中]  线程ThreadB6-9 消费★
        //13:35:17.002 [ThreadB6-9] INFO com.jlxu.demo.concurrency.communication.MyService6 - 线程ThreadB6-9 消费完毕...
        //13:35:17.002 [ThreadB6-9] INFO com.jlxu.demo.concurrency.communication.MyService6 - [唤醒所有生成线程]  线程ThreadB6-9...
    }
}

@Slf4j
class MyService6 {
    private final Lock lock = new ReentrantLock();
    public final Condition conditionA = lock.newCondition();//生成者
    public final Condition conditionB = lock.newCondition();//消费者
    private boolean hasValue = false;

    public void set() {
        lock.lock();
        try {
            while (hasValue) {
                log.info("[生产线程] " + " 线程"
                        + Thread.currentThread().getName() + " await...");
                conditionA.await();
            }
            log.info("[生产中] " + " 线程" + Thread.currentThread().getName() + " 生产★");
            Thread.sleep(1000);//生成业务执行时间
            hasValue = true;
            log.info("线程" + Thread.currentThread().getName() + " 生产完毕...");
            log.info("[唤醒所有消费线程] " + " 线程"
                    + Thread.currentThread().getName() + "...");
            conditionB.signalAll();
        } catch (InterruptedException e) {
            e.printStackTrace();
        } finally {
            lock.unlock();
        }
    }

    public void get() {
        lock.lock();
        try {
            while (!hasValue) {
                log.info("[消费线程] " + " 线程"
                        + Thread.currentThread().getName() + " await...");
                conditionB.await();
            }
            log.info("[消费中] " + " 线程" + Thread.currentThread().getName() + " 消费★");
            Thread.sleep(1000);//消费业务执行时间
            hasValue = false;
            log.info("线程" + Thread.currentThread().getName() + " 消费完毕...");
            log.info("[唤醒所有生成线程] " + " 线程"
                    + Thread.currentThread().getName() + "...");
            conditionA.signalAll();
        } catch (InterruptedException e) {
            e.printStackTrace();
        } finally {
            lock.unlock();
        }
    }
}

//生产
@Slf4j
class ThreadA6 extends Thread {
    private MyService6 service;

    public ThreadA6(MyService6 service, String name) {
        super(name);
        this.service = service;
    }

    @Override
    public void run() {
        service.set();
    }
}

//消费
@Slf4j
class ThreadB6 extends Thread {
    private MyService6 service;

    public ThreadB6(MyService6 service, String name) {
        super(name);
        this.service = service;
    }

    @Override
    public void run() {
        service.get();
    }
}
